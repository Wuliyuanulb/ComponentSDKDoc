

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>PipelineParameter &mdash; Component SDK beta documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/my_theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'beta',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/clipboard.min.js"></script>
        <script type="text/javascript" src="../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="RunSettings" href="runsettings.html" />
    <link rel="prev" title="Pipeline" href="pipeline.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Component SDK
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../concepts.html">Concepts</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="component.html">Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="pipeline.html">Pipeline</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">PipelineParameter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#what-is-pipelineparameter">What is PipelineParameter?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#supported-type">Supported type</a></li>
<li class="toctree-l3"><a class="reference internal" href="#use-pipelineparameter-as-component-s-input">Use PipelineParameter as component&#8216;s input</a></li>
<li class="toctree-l3"><a class="reference internal" href="#submit-with-pipelineparameter">Submit with PipelineParameter</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submit-pipeline-with-pipelineparameter-via-component-sdk">Submit pipeline with PipelineParameter via Component SDK</a></li>
<li class="toctree-l4"><a class="reference internal" href="#resubmit-run-with-pipelineparameter">Resubmit run with PipelineParameter</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#publish-run-with-pipelineparameter">Publish run with PipelineParameter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="runsettings.html">RunSettings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../components.html">Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CHANGELOG.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sdk_reference.html">SDK Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../links.html">Useful Links</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Component SDK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../concepts.html">Concepts</a> &raquo;</li>
        
      <li>PipelineParameter</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/concepts/pipeline_parameter.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pipelineparameter">
<h1>PipelineParameter<a class="headerlink" href="#pipelineparameter" title="Permalink to this headline">¶</a></h1>
<div class="section" id="what-is-pipelineparameter">
<h2>What is PipelineParameter?<a class="headerlink" href="#what-is-pipelineparameter" title="Permalink to this headline">¶</a></h2>
<p>PipelineParameter allow user dynamically running pipeline experiments with different inputs and parameters without any code change.</p>
</div>
<div class="section" id="supported-type">
<h2>Supported type<a class="headerlink" href="#supported-type" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>int</td>
<td>Python built-in numeric type</td>
</tr>
<tr>
<td>str</td>
<td>Python built-in text sequence type</td>
</tr>
<tr>
<td>bool</td>
<td>Python built-in truth value testing type</td>
</tr>
<tr>
<td>float</td>
<td>Python built-in numeric type</td>
</tr>
<tr>
<td>Dataset</td>
<td>Azureml dataset type like <a href="https://docs.microsoft.com/en-us/python/api/azureml-core/azureml.data.filedataset?view=azure-ml-py"><strong>FileDataset</strong></a></td>
</tr>
</tbody>
</table></div>
<div class="section" id="use-pipelineparameter-as-component-s-input">
<h2>Use PipelineParameter as component&#8216;s input<a class="headerlink" href="#use-pipelineparameter-as-component-s-input" title="Permalink to this headline">¶</a></h2>
<p>In the sample pipeline function below, pipeline parameters are:</p>
<ul class="simple">
<li>input_data - the original dataset</li>
<li>replacement_value - a string value used to replace missing values</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># prepare dataset and component function</span>

<span class="c1"># create a FileDataset</span>
<span class="n">titanic_dataset</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">File</span><span class="o">.</span><span class="n">from_files</span><span class="p">(</span><span class="s1">&#39;https://dprepdata.blob.core.windows.net/demo/Titanic.csv&#39;</span><span class="p">)</span>
<span class="c1"># get &#39;Clean Missing Data&#39; component function</span>
<span class="n">clean_missing_data_func</span> <span class="o">=</span> <span class="n">Component</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">workspace</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;azureml://Clean Missing Data&#39;</span><span class="p">)</span>

<span class="c1"># define a pipeline function with parameter.</span>
<span class="nd">@dsl</span><span class="o">.</span><span class="n">pipeline</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;sample_pipeline_with_pipeline_parameter&#39;</span><span class="p">,</span><span class="n">default_compute_target</span><span class="o">=</span><span class="s1">&#39;aml-compute&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">sample_pipeline</span><span class="p">(</span><span class="n">input_data</span><span class="p">,</span> <span class="n">replacement_value</span><span class="p">):</span>
    <span class="c1"># clean missing data of our input dataset</span>
    <span class="n">clean_missing_data</span> <span class="o">=</span> <span class="n">clean_missing_data_func</span><span class="p">(</span>
        <span class="n">dataset</span><span class="o">=</span><span class="n">input_data</span><span class="p">,</span>
        <span class="n">columns_to_be_cleaned</span><span class="o">=</span><span class="s1">&#39;[&quot;AllColumns&quot;]&#39;</span><span class="p">,</span>
        <span class="n">minimum_missing_value_ratio</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">maximum_missing_value_ratio</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
        <span class="n">cleaning_mode</span><span class="o">=</span><span class="s1">&#39;Custom substitution value&#39;</span><span class="p">,</span>
        <span class="n">replacement_value</span><span class="o">=</span><span class="n">replacement_value</span><span class="p">,</span>
        <span class="n">generate_missing_value_indicator_column</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">clean_missing_data</span><span class="o">.</span><span class="n">outputs</span>

<span class="c1"># create a pipeline instance with input=titanic_dataset and replacement_value=&#39;0&#39;</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">sample_pipeline</span><span class="p">(</span><span class="n">input_data</span><span class="o">=</span><span class="n">titanic_dataset</span><span class="p">,</span> <span class="n">replacement_value</span><span class="o">=</span><span class="s1">&#39;0&#39;</span><span class="p">)</span>
<span class="c1"># submit pipeline run</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">submit</span><span class="p">()</span>
</pre></div>
</div>
<p><em>*Parameters defined by user function decorated with dsl.pipeline() will be transformed into PipelineParameter type.
If there are nested pipelines decorators, only the parameters of the outermost
user function will be transformed into PipelineParameter.</em></p>
<p>Open the run link returned by <code class="docutils literal"><span class="pre">submit()</span></code> function, you will see the pipeline parameters <code class="docutils literal"><span class="pre">replacement_value</span></code> with &#8216;0&#8216; and <code class="docutils literal"><span class="pre">input_data</span></code> with
a link.</p>
<p><img alt="image-run-with-default-pipeline-parameter" src="../_images/run-with-default-pipeline-parameter.png" /></p>
<p>Click the <code class="docutils literal"><span class="pre">Clean</span> <span class="pre">Missing</span> <span class="pre">Data</span></code> component, you can see the input box of parameter <code class="docutils literal"><span class="pre">replacement_value</span></code> followed by a
question mark, which indicate a PipelineParameter value has been applied to the component&#8216;s parameter.</p>
<p><img alt="image-pipeline-parameter-on-component" src="../_images/pipeline-parameter-on-component.png" /></p>
</div>
<div class="section" id="submit-with-pipelineparameter">
<h2>Submit with PipelineParameter<a class="headerlink" href="#submit-with-pipelineparameter" title="Permalink to this headline">¶</a></h2>
<div class="section" id="submit-pipeline-with-pipelineparameter-via-component-sdk">
<h3>Submit pipeline with PipelineParameter via Component SDK<a class="headerlink" href="#submit-pipeline-with-pipelineparameter-via-component-sdk" title="Permalink to this headline">¶</a></h3>
<p>Submit the pipeline created above with <code class="docutils literal"><span class="pre">replacement_value</span></code> values &#8216;100&#8216;:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># define pipeline parameters with new replacement value</span>
<span class="n">pipeline_parameters</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;replacement_value&#39;</span><span class="p">:</span> <span class="s1">&#39;100&#39;</span><span class="p">}</span>

<span class="c1"># submit run with pipeline parameters</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">pipeline_parameters</span><span class="o">=</span><span class="n">pipeline_parameters</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">replacement_value</span></code> display &#8216;100&#8216; now and the <code class="docutils literal"><span class="pre">input_data</span></code> is same as before.</p>
<p><img alt="image-run-with-different-pipeline-parameter" src="../_images/run-with-different-pipeline-parameter.png" /></p>
</div>
<div class="section" id="resubmit-run-with-pipelineparameter">
<h3>Resubmit run with PipelineParameter<a class="headerlink" href="#resubmit-run-with-pipelineparameter" title="Permalink to this headline">¶</a></h3>
<p>Click the <code class="docutils literal"><span class="pre">Resubmit</span></code> button on the pipeline run page, you can set up parameters if the run has PipelineParameter.</p>
<p><img alt="image-resubmit-run-with-pipeline-parameter" src="../_images/resubmit-run-with-pipeline-parameter.png" /></p>
</div>
</div>
<div class="section" id="publish-run-with-pipelineparameter">
<h2>Publish run with PipelineParameter<a class="headerlink" href="#publish-run-with-pipelineparameter" title="Permalink to this headline">¶</a></h2>
<p>PipelineParameter also have effect on pipeline endpoint and you can set them up if submit run with endpoint.</p>
<p>Click <code class="docutils literal"><span class="pre">Publish</span></code> button on the pipeline run page, pipeline parameters and default values will be display if there exists.</p>
<p><img alt="image-publish-run-with-pipeline-parameter" src="../_images/publish-run-with-pipeline-parameter.png" /></p>
<p>PipelineEndpoint SDK support will be public available later.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="runsettings.html" class="btn btn-neutral float-right" title="RunSettings" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pipeline.html" class="btn btn-neutral float-left" title="Pipeline" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, microsoft

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>